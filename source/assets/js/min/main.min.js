function updateNav(){var e=$btn.hasClass("hidden")?$nav.width():$nav.width()-$btn.width()-30;$vlinks.width()>e?(breaks.push($vlinks.width()),$vlinks.children().last().prependTo($hlinks),$btn.hasClass("hidden")&&$btn.removeClass("hidden")):(e>breaks[breaks.length-1]&&($hlinks.children().first().appendTo($vlinks),breaks.pop()),breaks.length<1&&($btn.addClass("hidden"),$hlinks.addClass("hidden"))),$btn.attr("count",breaks.length),$vlinks.width()>e&&updateNav()}(function(){var e,t,n,i,o,r,a,s,l,c,u,d,p,f,h,m,g,v,y,w,b,C,k,x,_,S,T,I,E,L,O,M,P,j,z,B,A,N,F,R,H,W,q,D,Y,U,X,G,Z,K=[].slice,Q={}.hasOwnProperty,V=function(e,t){function n(){this.constructor=e}for(var i in t)Q.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},$=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};for(b={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},E=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},O=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,w=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==O&&(O=function(e){return setTimeout(e,50)},w=function(e){return clearTimeout(e)}),P=function(e){var t,n;return t=E(),(n=function(){var i;return i=E()-t,i>=33?(t=E(),e(i,function(){return O(n)})):setTimeout(n,33-i)})()},M=function(){var e,t,n;return n=arguments[0],t=arguments[1],e=3<=arguments.length?K.call(arguments,2):[],"function"==typeof n[t]?n[t].apply(n,e):n[t]},C=function(){var e,t,n,i,o,r,a;for(t=arguments[0],i=2<=arguments.length?K.call(arguments,1):[],r=0,a=i.length;a>r;r++)if(n=i[r])for(e in n)Q.call(n,e)&&(o=n[e],null!=t[e]&&"object"==typeof t[e]&&null!=o&&"object"==typeof o?C(t[e],o):t[e]=o);return t},g=function(e){var t,n,i,o,r;for(n=t=0,o=0,r=e.length;r>o;o++)i=e[o],n+=Math.abs(i),t++;return n/t},x=function(e,t){var n,i,o;if(null==e&&(e="options"),null==t&&(t=!0),o=document.querySelector("[data-pace-"+e+"]")){if(n=o.getAttribute("data-pace-"+e),!t)return n;try{return JSON.parse(n)}catch(e){return i=e,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",i):void 0}}},a=function(){function e(){}return e.prototype.on=function(e,t,n,i){var o;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(o=this.bindings)[e]&&(o[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:i})},e.prototype.once=function(e,t,n){return this.on(e,t,n,!0)},e.prototype.off=function(e,t){var n,i,o;if(null!=(null!=(i=this.bindings)?i[e]:void 0)){if(null==t)return delete this.bindings[e];for(n=0,o=[];n<this.bindings[e].length;)this.bindings[e][n].handler===t?o.push(this.bindings[e].splice(n,1)):o.push(n++);return o}},e.prototype.trigger=function(){var e,t,n,i,o,r,a,s,l;if(n=arguments[0],e=2<=arguments.length?K.call(arguments,1):[],null!=(a=this.bindings)?a[n]:void 0){for(o=0,l=[];o<this.bindings[n].length;)s=this.bindings[n][o],i=s.handler,t=s.ctx,r=s.once,i.apply(null!=t?t:this,e),r?l.push(this.bindings[n].splice(o,1)):l.push(o++);return l}},e}(),c=window.Pace||{},window.Pace=c,C(c,a.prototype),L=c.options=C({},b,window.paceOptions,x()),X=["ajax","document","eventLag","elements"],q=0,Y=X.length;Y>q;q++)A=X[q],!0===L[A]&&(L[A]=b[A]);l=function(e){function t(){return G=t.__super__.constructor.apply(this,arguments)}return V(t,e),t}(Error),t=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(!(e=document.querySelector(L.target)))throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return e=this.getElement(),e.className=e.className.replace("pace-active",""),e.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},e.prototype.update=function(e){return this.progress=e,this.render()},e.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){l=e}return this.el=void 0},e.prototype.render=function(){var e,t,n,i,o,r,a;if(null==document.querySelector(L.target))return!1;for(e=this.getElement(),i="translate3d("+this.progress+"%, 0, 0)",a=["webkitTransform","msTransform","transform"],o=0,r=a.length;r>o;o++)t=a[o],e.children[0].style[t]=i;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?n="99":(n=this.progress<10?"0":"",n+=0|this.progress),e.children[0].setAttribute("data-progress",""+n)),this.lastRenderedProgress=this.progress},e.prototype.done=function(){return this.progress>=100},e}(),s=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var n,i,o,r,a;if(null!=this.bindings[e]){for(r=this.bindings[e],a=[],i=0,o=r.length;o>i;i++)n=r[i],a.push(n.call(this,t));return a}},e.prototype.on=function(e,t){var n;return null==(n=this.bindings)[e]&&(n[e]=[]),this.bindings[e].push(t)},e}(),W=window.XMLHttpRequest,H=window.XDomainRequest,R=window.WebSocket,k=function(e,t){var n,i,o;o=[];for(i in t.prototype)try{null==e[i]&&"function"!=typeof t[i]?"function"==typeof Object.defineProperty?o.push(Object.defineProperty(e,i,{get:function(){return t.prototype[i]},configurable:!0,enumerable:!0})):o.push(e[i]=t.prototype[i]):o.push(void 0)}catch(e){n=e}return o},T=[],c.ignore=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?K.call(arguments,1):[],T.unshift("ignore"),n=t.apply(null,e),T.shift(),n},c.track=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?K.call(arguments,1):[],T.unshift("track"),n=t.apply(null,e),T.shift(),n},B=function(e){var t;if(null==e&&(e="GET"),"track"===T[0])return"force";if(!T.length&&L.ajax){if("socket"===e&&L.ajax.trackWebSockets)return!0;if(t=e.toUpperCase(),$.call(L.ajax.trackMethods,t)>=0)return!0}return!1},u=function(e){function t(){var e,n=this;t.__super__.constructor.apply(this,arguments),e=function(e){var t;return t=e.open,e.open=function(i,o,r){return B(i)&&n.trigger("request",{type:i,url:o,request:e}),t.apply(e,arguments)}},window.XMLHttpRequest=function(t){var n;return n=new W(t),e(n),n};try{k(window.XMLHttpRequest,W)}catch(e){}if(null!=H){window.XDomainRequest=function(){var t;return t=new H,e(t),t};try{k(window.XDomainRequest,H)}catch(e){}}if(null!=R&&L.ajax.trackWebSockets){window.WebSocket=function(e,t){var i;return i=null!=t?new R(e,t):new R(e),B("socket")&&n.trigger("request",{type:"socket",url:e,protocols:t,request:i}),i};try{k(window.WebSocket,R)}catch(e){}}}return V(t,e),t}(s),D=null,_=function(){return null==D&&(D=new u),D},z=function(e){var t,n,i,o;for(o=L.ajax.ignoreURLs,n=0,i=o.length;i>n;n++)if("string"==typeof(t=o[n])){if(-1!==e.indexOf(t))return!0}else if(t.test(e))return!0;return!1},_().on("request",function(t){var n,i,o,r,a;return r=t.type,o=t.request,a=t.url,z(a)?void 0:c.running||!1===L.restartOnRequestAfter&&"force"!==B(r)?void 0:(i=arguments,n=L.restartOnRequestAfter||0,"boolean"==typeof n&&(n=0),setTimeout(function(){var t,n,a,s,l,u;if(t="socket"===r?o.readyState<2:0<(s=o.readyState)&&4>s){for(c.restart(),l=c.sources,u=[],n=0,a=l.length;a>n;n++){if((A=l[n])instanceof e){A.watch.apply(A,i);break}u.push(void 0)}return u}},n))}),e=function(){function e(){var e=this;this.elements=[],_().on("request",function(){return e.watch.apply(e,arguments)})}return e.prototype.watch=function(e){var t,n,i,o;return i=e.type,t=e.request,o=e.url,z(o)?void 0:(n="socket"===i?new f(t):new h(t),this.elements.push(n))},e}(),h=function(){function e(e){var t,n,i,o,r,a,s=this;if(this.progress=0,null!=window.ProgressEvent)for(n=null,e.addEventListener("progress",function(e){return e.lengthComputable?s.progress=100*e.loaded/e.total:s.progress=s.progress+(100-s.progress)/2},!1),a=["load","abort","timeout","error"],i=0,o=a.length;o>i;i++)t=a[i],e.addEventListener(t,function(){return s.progress=100},!1);else r=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?s.progress=100:3===e.readyState&&(s.progress=50),"function"==typeof r?r.apply(null,arguments):void 0}}return e}(),f=function(){function e(e){var t,n,i,o,r=this;for(this.progress=0,o=["error","open"],n=0,i=o.length;i>n;n++)t=o[n],e.addEventListener(t,function(){return r.progress=100},!1)}return e}(),i=function(){function e(e){var t,n,i,r;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),r=e.selectors,n=0,i=r.length;i>n;n++)t=r[n],this.elements.push(new o(t))}return e}(),o=function(){function e(e){this.selector=e,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},L.elements.checkInterval)},e.prototype.done=function(){return this.progress=100},e}(),n=function(){function e(){var e,t,n=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),r=function(){function e(){var e,t,n,i,o,r=this;this.progress=0,e=0,o=[],i=0,n=E(),t=setInterval(function(){var a;return a=E()-n-50,n=E(),o.push(a),o.length>L.eventLag.sampleCount&&o.shift(),e=g(o),++i>=L.eventLag.minSamples&&e<L.eventLag.lagThreshold?(r.progress=100,clearInterval(t)):r.progress=3/(e+3)*100},50)}return e}(),p=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=L.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=M(this.source,"progress"))}return e.prototype.tick=function(e,t){var n;return null==t&&(t=M(this.source,"progress")),t>=100&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/L.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),n=1-Math.pow(this.progress/100,L.easeFactor),this.progress+=n*this.rate*e,this.progress=Math.min(this.lastProgress+L.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),N=null,j=null,v=null,F=null,m=null,y=null,c.running=!1,S=function(){return L.restartOnPushState?c.restart():void 0},null!=window.history.pushState&&(U=window.history.pushState,window.history.pushState=function(){return S(),U.apply(window.history,arguments)}),null!=window.history.replaceState&&(Z=window.history.replaceState,window.history.replaceState=function(){return S(),Z.apply(window.history,arguments)}),d={ajax:e,elements:i,document:n,eventLag:r},(I=function(){var e,n,i,o,r,a,s,l;for(c.sources=N=[],a=["ajax","elements","document","eventLag"],n=0,o=a.length;o>n;n++)e=a[n],!1!==L[e]&&N.push(new d[e](L[e]));for(l=null!=(s=L.extraSources)?s:[],i=0,r=l.length;r>i;i++)A=l[i],N.push(new A(L));return c.bar=v=new t,j=[],F=new p})(),c.stop=function(){return c.trigger("stop"),c.running=!1,v.destroy(),y=!0,null!=m&&("function"==typeof w&&w(m),m=null),I()},c.restart=function(){return c.trigger("restart"),c.stop(),c.start()},c.go=function(){var e;return c.running=!0,v.render(),e=E(),y=!1,m=P(function(t,n){var i,o,r,a,s,l,u,d,f,h,m,g,w,b,C,k;for(d=100-v.progress,o=m=0,r=!0,l=g=0,b=N.length;b>g;l=++g)for(A=N[l],h=null!=j[l]?j[l]:j[l]=[],s=null!=(k=A.elements)?k:[A],u=w=0,C=s.length;C>w;u=++w)a=s[u],f=null!=h[u]?h[u]:h[u]=new p(a),r&=f.done,f.done||(o++,m+=f.tick(t));return i=m/o,v.update(F.tick(t,i)),v.done()||r||y?(v.update(100),c.trigger("done"),setTimeout(function(){return v.finish(),c.running=!1,c.trigger("hide")},Math.max(L.ghostTime,Math.max(L.minTime-(E()-e),0)))):n()})},c.start=function(e){C(L,e),c.running=!0;try{v.render()}catch(e){l=e}return document.querySelector(".pace")?(c.trigger("start"),c.go()):setTimeout(c.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return c}):"object"==typeof exports?module.exports=c:L.startOnPageLoad&&c.start()}).call(this),function(e,t){function n(){_=L=S=T=I=E=A}function i(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function o(e){return parseFloat(e)||0}function r(){M={top:t.pageYOffset,left:t.pageXOffset}}function a(){return t.pageXOffset!=M.left?(r(),void S()):void(t.pageYOffset!=M.top&&(r(),l()))}function s(e){setTimeout(function(){t.pageYOffset!=M.top&&(M.top=t.pageYOffset,l())},0)}function l(){for(var e=j.length-1;e>=0;e--)c(j[e])}function c(e){if(e.inited){var t=M.top<=e.limit.start?0:M.top>=e.limit.end?2:1;e.mode!=t&&m(e,t)}}function u(){for(var e=j.length-1;e>=0;e--)if(j[e].inited){var t=Math.abs(w(j[e].clone)-j[e].docOffsetTop),n=Math.abs(j[e].parent.node.offsetHeight-j[e].parent.height);if(t>=2||n>=2)return!1}return!0}function d(e){isNaN(parseFloat(e.computed.top))||e.isCell||"none"==e.computed.display||(e.inited=!0,e.clone||g(e),"absolute"!=e.parent.computed.position&&"relative"!=e.parent.computed.position&&(e.parent.node.style.position="relative"),c(e),e.parent.height=e.parent.node.offsetHeight,e.docOffsetTop=w(e.clone))}function p(e){var t=!0;e.clone&&v(e),i(e.node.style,e.css);for(var n=j.length-1;n>=0;n--)if(j[n].node!==e.node&&j[n].parent.node===e.parent.node){t=!1;break}t&&(e.parent.node.style.position=e.parent.css.position),e.mode=-1}function f(){for(var e=j.length-1;e>=0;e--)d(j[e])}function h(){for(var e=j.length-1;e>=0;e--)p(j[e])}function m(e,t){var n=e.node.style;switch(t){case 0:n.position="absolute",n.left=e.offset.left+"px",n.right=e.offset.right+"px",n.top=e.offset.top+"px",n.bottom="auto",n.width="auto",n.marginLeft=0,n.marginRight=0,n.marginTop=0;break;case 1:n.position="fixed",n.left=e.box.left+"px",n.right=e.box.right+"px",n.top=e.css.top,n.bottom="auto",n.width="auto",n.marginLeft=0,n.marginRight=0,n.marginTop=0;break;case 2:n.position="absolute",n.left=e.offset.left+"px",n.right=e.offset.right+"px",n.top="auto",n.bottom=0,n.width="auto",n.marginLeft=0,n.marginRight=0}e.mode=t}function g(e){e.clone=document.createElement("div");var t=e.node.nextSibling||e.node,n=e.clone.style;n.height=e.height+"px",n.width=e.width+"px",n.marginTop=e.computed.marginTop,n.marginBottom=e.computed.marginBottom,n.marginLeft=e.computed.marginLeft,n.marginRight=e.computed.marginRight,n.padding=n.border=n.borderSpacing=0,n.fontSize="1em",n.position="static",n.cssFloat=e.computed.cssFloat,e.node.parentNode.insertBefore(e.clone,t)}function v(e){e.clone.parentNode.removeChild(e.clone),e.clone=void 0}function y(e){var t=getComputedStyle(e),n=e.parentNode,i=getComputedStyle(n),r=e.style.position;e.style.position="relative";var a={top:t.top,marginTop:t.marginTop,marginBottom:t.marginBottom,marginLeft:t.marginLeft,marginRight:t.marginRight,cssFloat:t.cssFloat,display:t.display},s={top:o(t.top),marginBottom:o(t.marginBottom),paddingLeft:o(t.paddingLeft),paddingRight:o(t.paddingRight),borderLeftWidth:o(t.borderLeftWidth),borderRightWidth:o(t.borderRightWidth)};e.style.position=r;var l={position:e.style.position,top:e.style.top,bottom:e.style.bottom,left:e.style.left,right:e.style.right,width:e.style.width,marginTop:e.style.marginTop,marginLeft:e.style.marginLeft,marginRight:e.style.marginRight},c=b(e),u=b(n),d={node:n,css:{position:n.style.position},computed:{position:i.position},numeric:{borderLeftWidth:o(i.borderLeftWidth),borderRightWidth:o(i.borderRightWidth),borderTopWidth:o(i.borderTopWidth),borderBottomWidth:o(i.borderBottomWidth)}};return{node:e,box:{left:c.win.left,right:B.clientWidth-c.win.right},offset:{top:c.win.top-u.win.top-d.numeric.borderTopWidth,left:c.win.left-u.win.left-d.numeric.borderLeftWidth,right:-c.win.right+u.win.right-d.numeric.borderRightWidth},css:l,isCell:"table-cell"==t.display,computed:a,numeric:s,width:c.win.right-c.win.left,height:c.win.bottom-c.win.top,mode:-1,inited:!1,parent:d,limit:{start:c.doc.top-s.top,end:u.doc.top+n.offsetHeight-d.numeric.borderBottomWidth-e.offsetHeight-s.top-s.marginBottom}}}function w(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t}function b(e){var n=e.getBoundingClientRect();return{doc:{top:n.top+t.pageYOffset,left:n.left+t.pageXOffset},win:n}}function C(){P=setInterval(function(){!u()&&S()},500)}function k(){clearInterval(P)}function x(){z&&(document[N]?k():C())}function _(){z||(r(),f(),t.addEventListener("scroll",a),t.addEventListener("wheel",s),t.addEventListener("resize",S),t.addEventListener("orientationchange",S),e.addEventListener(F,x),C(),z=!0)}function S(){if(z){h();for(var e=j.length-1;e>=0;e--)j[e]=y(j[e].node);f()}}function T(){t.removeEventListener("scroll",a),t.removeEventListener("wheel",s),t.removeEventListener("resize",S),t.removeEventListener("orientationchange",S),e.removeEventListener(F,x),k(),z=!1}function I(){T(),h()}function E(){for(I();j.length;)j.pop()}function L(e){for(var t=j.length-1;t>=0;t--)if(j[t].node===e)return;var n=y(e);j.push(n),z?d(n):_()}function O(e){for(var t=j.length-1;t>=0;t--)j[t].node===e&&(p(j[t]),j.splice(t,1))}var M,P,j=[],z=!1,B=e.documentElement,A=function(){},N="hidden",F="visibilitychange";void 0!==e.webkitHidden&&(N="webkitHidden",F="webkitvisibilitychange"),t.getComputedStyle||n();for(var R=["","-webkit-","-moz-","-ms-"],H=document.createElement("div"),W=R.length-1;W>=0;W--){try{H.style.position=R[W]+"sticky"}catch(e){}""!=H.style.position&&n()}r(),t.Stickyfill={stickies:j,add:L,remove:O,init:_,rebuild:S,pause:T,stop:I,kill:E}}(document,window),window.jQuery&&function($){$.fn.Stickyfill=function(e){return this.each(function(){Stickyfill.add(this)}),this}}(window.jQuery);var $nav=$("#site-nav"),$btn=$("#site-nav button"),$vlinks=$("#site-nav .visible-links"),$hlinks=$("#site-nav .hidden-links"),breaks=[];$(window).resize(function(){updateNav()}),$btn.on("click",function(){$hlinks.toggleClass("hidden"),$(this).toggleClass("close")}),updateNav(),function($){var e="Close",t="BeforeClose",n="AfterClose",i="BeforeAppend",o="MarkupParse",r="Open",a="Change",s="mfp",l=".mfp",c="mfp-ready",u="mfp-removing",d="mfp-prevent-close",p,f=function(){},h=!!window.jQuery,m,g=$(window),v,y,w,b,C,k=function(e,t){p.ev.on(s+e+".mfp",t)},x=function(e,t,n,i){var o=document.createElement("div");return o.className="mfp-"+e,n&&(o.innerHTML=n),i?t&&t.appendChild(o):(o=$(o),t&&o.appendTo(t)),o},_=function(e,t){p.ev.triggerHandler(s+e,t),p.st.callbacks&&(e=e.charAt(0).toLowerCase()+e.slice(1),p.st.callbacks[e]&&p.st.callbacks[e].apply(p,$.isArray(t)?t:[t]))},S=function(e){return e===C&&p.currTemplate.closeBtn||(p.currTemplate.closeBtn=$(p.st.closeMarkup.replace("%title%",p.st.tClose)),C=e),p.currTemplate.closeBtn},T=function(){$.magnificPopup.instance||(p=new f,p.init(),$.magnificPopup.instance=p)},I=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};f.prototype={constructor:f,init:function(){var e=navigator.appVersion;p.isIE7=-1!==e.indexOf("MSIE 7."),p.isIE8=-1!==e.indexOf("MSIE 8."),p.isLowIE=p.isIE7||p.isIE8,p.isAndroid=/android/gi.test(e),p.isIOS=/iphone|ipad|ipod/gi.test(e),p.supportsTransition=I(),p.probablyMobile=p.isAndroid||p.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),y=$(document),p.popupsCache={}},open:function(e){v||(v=$(document.body));var t;if(!1===e.isObj){p.items=e.items.toArray(),p.index=0;var n=e.items,i;for(t=0;t<n.length;t++)if(i=n[t],i.parsed&&(i=i.el[0]),i===e.el[0]){p.index=t;break}}else p.items=$.isArray(e.items)?e.items:[e.items],p.index=e.index||0;if(p.isOpen)return void p.updateItemHTML();p.types=[],b="",e.mainEl&&e.mainEl.length?p.ev=e.mainEl.eq(0):p.ev=y,e.key?(p.popupsCache[e.key]||(p.popupsCache[e.key]={}),p.currTemplate=p.popupsCache[e.key]):p.currTemplate={},p.st=$.extend(!0,{},$.magnificPopup.defaults,e),p.fixedContentPos="auto"===p.st.fixedContentPos?!p.probablyMobile:p.st.fixedContentPos,p.st.modal&&(p.st.closeOnContentClick=!1,p.st.closeOnBgClick=!1,p.st.showCloseBtn=!1,p.st.enableEscapeKey=!1),p.bgOverlay||(p.bgOverlay=x("bg").on("click.mfp",function(){p.close()}),p.wrap=x("wrap").attr("tabindex",-1).on("click.mfp",function(e){p._checkIfClose(e.target)&&p.close()}),p.container=x("container",p.wrap)),p.contentContainer=x("content"),p.st.preloader&&(p.preloader=x("preloader",p.container,p.st.tLoading));var o=$.magnificPopup.modules;for(t=0;t<o.length;t++){var r=o[t];r=r.charAt(0).toUpperCase()+r.slice(1),p["init"+r].call(p)}_("BeforeOpen"),p.st.showCloseBtn&&(p.st.closeBtnInside?(k("MarkupParse",function(e,t,n,i){n.close_replaceWith=S(i.type)}),b+=" mfp-close-btn-in"):p.wrap.append(S())),p.st.alignTop&&(b+=" mfp-align-top"),p.fixedContentPos?p.wrap.css({overflow:p.st.overflowY,overflowX:"hidden",overflowY:p.st.overflowY}):p.wrap.css({top:g.scrollTop(),position:"absolute"}),(!1===p.st.fixedBgPos||"auto"===p.st.fixedBgPos&&!p.fixedContentPos)&&p.bgOverlay.css({height:y.height(),position:"absolute"}),p.st.enableEscapeKey&&y.on("keyup.mfp",function(e){27===e.keyCode&&p.close()}),g.on("resize.mfp",function(){p.updateSize()}),p.st.closeOnContentClick||(b+=" mfp-auto-cursor"),b&&p.wrap.addClass(b);var a=p.wH=g.height(),s={};if(p.fixedContentPos&&p._hasScrollBar(a)){var l=p._getScrollbarSize();l&&(s.marginRight=l)}p.fixedContentPos&&(p.isIE7?$("body, html").css("overflow","hidden"):s.overflow="hidden");var c=p.st.mainClass;return p.isIE7&&(c+=" mfp-ie7"),c&&p._addClassToMFP(c),p.updateItemHTML(),_("BuildControls"),$("html").css(s),p.bgOverlay.add(p.wrap).prependTo(p.st.prependTo||v),p._lastFocusedEl=document.activeElement,setTimeout(function(){p.content?(p._addClassToMFP("mfp-ready"),p._setFocus()):p.bgOverlay.addClass("mfp-ready"),y.on("focusin.mfp",p._onFocusIn)},16),p.isOpen=!0,p.updateSize(a),_("Open"),e},close:function(){p.isOpen&&(_("BeforeClose"),p.isOpen=!1,p.st.removalDelay&&!p.isLowIE&&p.supportsTransition?(p._addClassToMFP("mfp-removing"),setTimeout(function(){p._close()},p.st.removalDelay)):p._close())},_close:function(){_("Close");var e="mfp-removing mfp-ready ";if(p.bgOverlay.detach(),p.wrap.detach(),p.container.empty(),p.st.mainClass&&(e+=p.st.mainClass+" "),p._removeClassFromMFP(e),p.fixedContentPos){var t={marginRight:""};p.isIE7?$("body, html").css("overflow",""):t.overflow="",$("html").css(t)}y.off("keyup.mfp focusin.mfp"),p.ev.off(".mfp"),p.wrap.attr("class","mfp-wrap").removeAttr("style"),p.bgOverlay.attr("class","mfp-bg"),p.container.attr("class","mfp-container"),!p.st.showCloseBtn||p.st.closeBtnInside&&!0!==p.currTemplate[p.currItem.type]||p.currTemplate.closeBtn&&p.currTemplate.closeBtn.detach(),p._lastFocusedEl&&$(p._lastFocusedEl).focus(),p.currItem=null,p.content=null,p.currTemplate=null,p.prevHeight=0,_("AfterClose")},updateSize:function(e){if(p.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*t;p.wrap.css("height",n),p.wH=n}else p.wH=e||g.height();p.fixedContentPos||p.wrap.css("height",p.wH),_("Resize")},updateItemHTML:function(){var e=p.items[p.index];p.contentContainer.detach(),p.content&&p.content.detach(),e.parsed||(e=p.parseEl(p.index));var t=e.type;if(_("BeforeChange",[p.currItem?p.currItem.type:"",t]),p.currItem=e,!p.currTemplate[t]){var n=!!p.st[t]&&p.st[t].markup;_("FirstMarkupParse",n),p.currTemplate[t]=!n||$(n)}w&&w!==e.type&&p.container.removeClass("mfp-"+w+"-holder");var i=p["get"+t.charAt(0).toUpperCase()+t.slice(1)](e,p.currTemplate[t]);p.appendContent(i,t),e.preloaded=!0,_("Change",e),w=e.type,p.container.prepend(p.contentContainer),_("AfterChange")},appendContent:function(e,t){p.content=e,e?p.st.showCloseBtn&&p.st.closeBtnInside&&!0===p.currTemplate[t]?p.content.find(".mfp-close").length||p.content.append(S()):p.content=e:p.content="",_("BeforeAppend"),p.container.addClass("mfp-"+t+"-holder"),p.contentContainer.append(p.content)},parseEl:function(e){var t=p.items[e],n;if(t.tagName?t={el:$(t)}:(n=t.type,t={data:t,src:t.src}),t.el){for(var i=p.types,o=0;o<i.length;o++)if(t.el.hasClass("mfp-"+i[o])){n=i[o];break}t.src=t.el.attr("data-mfp-src"),t.src||(t.src=t.el.attr("href"))}return t.type=n||p.st.type||"inline",t.index=e,t.parsed=!0,p.items[e]=t,_("ElementParse",t),p.items[e]},addGroup:function(e,t){var n=function(n){n.mfpEl=this,p._openClick(n,e,t)};t||(t={});var i="click.magnificPopup";t.mainEl=e,t.items?(t.isObj=!0,e.off(i).on(i,n)):(t.isObj=!1,t.delegate?e.off(i).on(i,t.delegate,n):(t.items=e,e.off(i).on(i,n)))},_openClick:function(e,t,n){if((void 0!==n.midClick?n.midClick:$.magnificPopup.defaults.midClick)||2!==e.which&&!e.ctrlKey&&!e.metaKey){var i=void 0!==n.disableOn?n.disableOn:$.magnificPopup.defaults.disableOn;if(i)if($.isFunction(i)){if(!i.call(p))return!0}else if(g.width()<i)return!0;e.type&&(e.preventDefault(),p.isOpen&&e.stopPropagation()),n.el=$(e.mfpEl),n.delegate&&(n.items=t.find(n.delegate)),p.open(n)}},updateStatus:function(e,t){if(p.preloader){m!==e&&p.container.removeClass("mfp-s-"+m),t||"loading"!==e||(t=p.st.tLoading);var n={status:e,text:t};_("UpdateStatus",n),e=n.status,t=n.text,p.preloader.html(t),p.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),p.container.addClass("mfp-s-"+e),m=e}},_checkIfClose:function(e){if(!$(e).hasClass("mfp-prevent-close")){var t=p.st.closeOnContentClick,n=p.st.closeOnBgClick;if(t&&n)return!0;if(!p.content||$(e).hasClass("mfp-close")||p.preloader&&e===p.preloader[0])return!0;if(e===p.content[0]||$.contains(p.content[0],e)){if(t)return!0}else if(n&&$.contains(document,e))return!0;return!1}},_addClassToMFP:function(e){p.bgOverlay.addClass(e),p.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),p.wrap.removeClass(e)},_hasScrollBar:function(e){return(p.isIE7?y.height():document.body.scrollHeight)>(e||g.height())},_setFocus:function(){(p.st.focus?p.content.find(p.st.focus).eq(0):p.wrap).focus()},_onFocusIn:function(e){if(e.target!==p.wrap[0]&&!$.contains(p.wrap[0],e.target))return p._setFocus(),!1},_parseMarkup:function(e,t,n){var i;n.data&&(t=$.extend(n.data,t)),_("MarkupParse",[e,t,n]),$.each(t,function(t,n){if(void 0===n||!1===n)return!0;if(i=t.split("_"),i.length>1){var o=e.find(".mfp-"+i[0]);if(o.length>0){var r=i[1];"replaceWith"===r?o[0]!==n[0]&&o.replaceWith(n):"img"===r?o.is("img")?o.attr("src",n):o.replaceWith('<img src="'+n+'" class="'+o.attr("class")+'" />'):o.attr(i[1],n)}}else e.find(".mfp-"+t).html(n)})},_getScrollbarSize:function(){if(void 0===p.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),p.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return p.scrollbarSize}},$.magnificPopup={instance:null,proto:f.prototype,modules:[],open:function(e,t){return T(),e=e?$.extend(!0,{},e):{},e.isObj=!0,e.index=t||0,this.instance.open(e)},close:function(){return $.magnificPopup.instance&&$.magnificPopup.instance.close()},registerModule:function(e,t){t.options&&($.magnificPopup.defaults[e]=t.options),$.extend(this.proto,t.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},$.fn.magnificPopup=function(e){T();var t=$(this);if("string"==typeof e)if("open"===e){var n,i=h?t.data("magnificPopup"):t[0].magnificPopup,o=parseInt(arguments[1],10)||0;i.items?n=i.items[o]:(n=t,i.delegate&&(n=n.find(i.delegate)),n=n.eq(o)),p._openClick({mfpEl:n},t,i)}else p.isOpen&&p[e].apply(p,Array.prototype.slice.call(arguments,1));else e=$.extend(!0,{},e),h?t.data("magnificPopup",e):t[0].magnificPopup=e,p.addGroup(t,e);return t};var E="inline",L,O,M,P=function(){M&&(O.after(M.addClass(L)).detach(),M=null)};$.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){p.types.push("inline"),k("Close.inline",function(){P()})},getInline:function(e,t){if(P(),e.src){var n=p.st.inline,i=$(e.src);if(i.length){var o=i[0].parentNode;o&&o.tagName&&(O||(L=n.hiddenClass,O=x(L),L="mfp-"+L),M=i.after(O).detach().removeClass(L)),p.updateStatus("ready")}else p.updateStatus("error",n.tNotFound),i=$("<div>");return e.inlineElement=i,i}return p.updateStatus("ready"),p._parseMarkup(t,{},e),t}}});var j="ajax",z,B=function(){z&&v.removeClass(z)},A=function(){B(),p.req&&p.req.abort()};$.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){p.types.push("ajax"),z=p.st.ajax.cursor,k("Close.ajax",A),k("BeforeChange.ajax",A)},getAjax:function(e){z&&v.addClass(z),p.updateStatus("loading");var t=$.extend({url:e.src,success:function(t,n,i){var o={data:t,xhr:i};_("ParseAjax",o),p.appendContent($(o.data),"ajax"),e.finished=!0,B(),p._setFocus(),setTimeout(function(){p.wrap.addClass("mfp-ready")},16),p.updateStatus("ready"),_("AjaxContentAdded")},error:function(){B(),e.finished=e.loadError=!0,p.updateStatus("error",p.st.ajax.tError.replace("%url%",e.src))}},p.st.ajax.settings);return p.req=$.ajax(t),""}}});var N,F=function(e){if(e.data&&void 0!==e.data.title)return e.data.title;var t=p.st.image.titleSrc;if(t){if($.isFunction(t))return t.call(p,e);if(e.el)return e.el.attr(t)||""}return""};$.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=p.st.image,t=".image";p.types.push("image"),k("Open"+t,function(){"image"===p.currItem.type&&e.cursor&&v.addClass(e.cursor)}),k("Close"+t,function(){e.cursor&&v.removeClass(e.cursor),g.off("resize.mfp")}),k("Resize"+t,p.resizeImage),p.isLowIE&&k("AfterChange",p.resizeImage)},resizeImage:function(){var e=p.currItem;if(e&&e.img&&p.st.image.verticalFit){var t=0;p.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",p.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,N&&clearInterval(N),e.isCheckingImgSize=!1,_("ImageHasSize",e),e.imgHidden&&(p.content&&p.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var t=0,n=e.img[0],i=function(o){N&&clearInterval(N),N=setInterval(function(){if(n.naturalWidth>0)return void p._onImageHasSize(e);t>200&&clearInterval(N),t++,3===t?i(10):40===t?i(50):100===t&&i(500)},o)};i(1)},getImage:function(e,t){var n=0,i=function(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===p.currItem&&(p._onImageHasSize(e),p.updateStatus("ready")),e.hasSize=!0,
e.loaded=!0,_("ImageLoadComplete")):(n++,n<200?setTimeout(i,100):o()))},o=function(){e&&(e.img.off(".mfploader"),e===p.currItem&&(p._onImageHasSize(e),p.updateStatus("error",r.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},r=p.st.image,a=t.find(".mfp-img");if(a.length){var s=document.createElement("img");s.className="mfp-img",e.img=$(s).on("load.mfploader",i).on("error.mfploader",o),s.src=e.src,a.is("img")&&(e.img=e.img.clone()),s=e.img[0],s.naturalWidth>0?e.hasSize=!0:s.width||(e.hasSize=!1)}return p._parseMarkup(t,{title:F(e),img_replaceWith:e.img},e),p.resizeImage(),e.hasSize?(N&&clearInterval(N),e.loadError?(t.addClass("mfp-loading"),p.updateStatus("error",r.tError.replace("%url%",e.src))):(t.removeClass("mfp-loading"),p.updateStatus("ready")),t):(p.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,t.addClass("mfp-loading"),p.findImageSize(e)),t)}}});var R,H=function(){return void 0===R&&(R=void 0!==document.createElement("p").style.MozTransform),R};$.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e=p.st.zoom,t=".zoom",n;if(e.enabled&&p.supportsTransition){var i=e.duration,o=function(t){var n=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+e.duration/1e3+"s "+e.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return o["-webkit-"+r]=o["-moz-"+r]=o["-o-"+r]=o[r]=i,n.css(o),n},r=function(){p.content.css("visibility","visible")},a,s;k("BuildControls"+t,function(){if(p._allowZoom()){if(clearTimeout(a),p.content.css("visibility","hidden"),!(n=p._getItemToZoom()))return void r();s=o(n),s.css(p._getOffset()),p.wrap.append(s),a=setTimeout(function(){s.css(p._getOffset(!0)),a=setTimeout(function(){r(),setTimeout(function(){s.remove(),n=s=null,_("ZoomAnimationEnded")},16)},i)},16)}}),k("BeforeClose"+t,function(){if(p._allowZoom()){if(clearTimeout(a),p.st.removalDelay=i,!n){if(!(n=p._getItemToZoom()))return;s=o(n)}s.css(p._getOffset(!0)),p.wrap.append(s),p.content.css("visibility","hidden"),setTimeout(function(){s.css(p._getOffset())},16)}}),k("Close"+t,function(){p._allowZoom()&&(r(),s&&s.remove(),n=null)})}},_allowZoom:function(){return"image"===p.currItem.type},_getItemToZoom:function(){return!!p.currItem.hasSize&&p.currItem.img},_getOffset:function(e){var t;t=e?p.currItem.img:p.st.zoom.opener(p.currItem.el||p.currItem);var n=t.offset(),i=parseInt(t.css("padding-top"),10),o=parseInt(t.css("padding-bottom"),10);n.top-=$(window).scrollTop()-i;var r={width:t.width(),height:(h?t.innerHeight():t[0].offsetHeight)-o-i};return H()?r["-moz-transform"]=r.transform="translate("+n.left+"px,"+n.top+"px)":(r.left=n.left,r.top=n.top),r}}});var W="iframe",q="//about:blank",D=function(e){if(p.currTemplate.iframe){var t=p.currTemplate.iframe.find("iframe");t.length&&(e||(t[0].src=q),p.isIE8&&t.css("display",e?"block":"none"))}};$.magnificPopup.registerModule("iframe",{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){p.types.push("iframe"),k("BeforeChange",function(e,t,n){t!==n&&("iframe"===t?D():"iframe"===n&&D(!0))}),k("Close.iframe",function(){D()})},getIframe:function(e,t){var n=e.src,i=p.st.iframe;$.each(i.patterns,function(){if(n.indexOf(this.index)>-1)return this.id&&(n="string"==typeof this.id?n.substr(n.lastIndexOf(this.id)+this.id.length,n.length):this.id.call(this,n)),n=this.src.replace("%id%",n),!1});var o={};return i.srcAction&&(o[i.srcAction]=n),p._parseMarkup(t,o,e),p.updateStatus("ready"),t}}});var Y=function(e){var t=p.items.length;return e>t-1?e-t:e<0?t+e:e},U=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};$.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var e=p.st.gallery,t=".mfp-gallery",n=Boolean($.fn.mfpFastClick);if(p.direction=!0,!e||!e.enabled)return!1;b+=" mfp-gallery",k("Open"+t,function(){e.navigateByImgClick&&p.wrap.on("click"+t,".mfp-img",function(){if(p.items.length>1)return p.next(),!1}),y.on("keydown"+t,function(e){37===e.keyCode?p.prev():39===e.keyCode&&p.next()})}),k("UpdateStatus"+t,function(e,t){t.text&&(t.text=U(t.text,p.currItem.index,p.items.length))}),k("MarkupParse"+t,function(t,n,i,o){var r=p.items.length;i.counter=r>1?U(e.tCounter,o.index,r):""}),k("BuildControls"+t,function(){if(p.items.length>1&&e.arrows&&!p.arrowLeft){var t=e.arrowMarkup,i=p.arrowLeft=$(t.replace(/%title%/gi,e.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),o=p.arrowRight=$(t.replace(/%title%/gi,e.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close"),r=n?"mfpFastClick":"click";i[r](function(){p.prev()}),o[r](function(){p.next()}),p.isIE7&&(x("b",i[0],!1,!0),x("a",i[0],!1,!0),x("b",o[0],!1,!0),x("a",o[0],!1,!0)),p.container.append(i.add(o))}}),k("Change"+t,function(){p._preloadTimeout&&clearTimeout(p._preloadTimeout),p._preloadTimeout=setTimeout(function(){p.preloadNearbyImages(),p._preloadTimeout=null},16)}),k("Close"+t,function(){y.off(t),p.wrap.off("click"+t),p.arrowLeft&&n&&p.arrowLeft.add(p.arrowRight).destroyMfpFastClick(),p.arrowRight=p.arrowLeft=null})},next:function(){p.direction=!0,p.index=Y(p.index+1),p.updateItemHTML()},prev:function(){p.direction=!1,p.index=Y(p.index-1),p.updateItemHTML()},goTo:function(e){p.direction=e>=p.index,p.index=e,p.updateItemHTML()},preloadNearbyImages:function(){var e=p.st.gallery.preload,t=Math.min(e[0],p.items.length),n=Math.min(e[1],p.items.length),i;for(i=1;i<=(p.direction?n:t);i++)p._preloadItem(p.index+i);for(i=1;i<=(p.direction?t:n);i++)p._preloadItem(p.index-i)},_preloadItem:function(e){if(e=Y(e),!p.items[e].preloaded){var t=p.items[e];t.parsed||(t=p.parseEl(e)),_("LazyLoad",t),"image"===t.type&&(t.img=$('<img class="mfp-img" />').on("load.mfploader",function(){t.hasSize=!0}).on("error.mfploader",function(){t.hasSize=!0,t.loadError=!0,_("LazyLoadError",t)}).attr("src",t.src)),t.preloaded=!0}}}});var X="retina";$.magnificPopup.registerModule("retina",{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=p.st.retina,t=e.ratio;t=isNaN(t)?t():t,t>1&&(k("ImageHasSize.retina",function(e,n){n.img.css({"max-width":n.img[0].naturalWidth/t,width:"100%"})}),k("ElementParse.retina",function(n,i){i.src=e.replaceSrc(i,t)}))}}}}),function(){var e=1e3,t="ontouchstart"in window,n=function(){g.off("touchmove"+o+" touchend"+o)},i="mfpFastClick",o="."+i;$.fn.mfpFastClick=function(e){return $(this).each(function(){var i=$(this),r;if(t){var a,s,l,c,u,d;i.on("touchstart"+o,function(t){c=!1,d=1,u=t.originalEvent?t.originalEvent.touches[0]:t.touches[0],s=u.clientX,l=u.clientY,g.on("touchmove"+o,function(e){u=e.originalEvent?e.originalEvent.touches:e.touches,d=u.length,u=u[0],(Math.abs(u.clientX-s)>10||Math.abs(u.clientY-l)>10)&&(c=!0,n())}).on("touchend"+o,function(t){n(),c||d>1||(r=!0,t.preventDefault(),clearTimeout(a),a=setTimeout(function(){r=!1},1e3),e())})})}i.on("click"+o,function(){r||e()})})},$.fn.destroyMfpFastClick=function(){$(this).off("touchstart"+o+" click"+o),t&&g.off("touchmove"+o+" touchend"+o)}}(),T()}(window.jQuery||window.Zepto),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(e){var t={},n={exclude:[],excludeWithin:[],offset:0,direction:"top",delegateSelector:null,scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficient:2,preventDefault:!0},i=function(t){var n=[],i=!1,o=t.dir&&"left"===t.dir?"scrollLeft":"scrollTop";return this.each(function(){var t=e(this);if(this!==document&&this!==window)return!document.scrollingElement||this!==document.documentElement&&this!==document.body?void(t[o]()>0?n.push(this):(t[o](1),i=t[o]()>0,i&&n.push(this),t[o](0))):(n.push(document.scrollingElement),!1)}),n.length||this.each(function(){this===document.documentElement&&"smooth"===e(this).css("scrollBehavior")&&(n=[this]),n.length||"BODY"!==this.nodeName||(n=[this])}),"first"===t.el&&n.length>1&&(n=[n[0]]),n};e.fn.extend({scrollable:function(e){var t=i.call(this,{dir:e});return this.pushStack(t)},firstScrollable:function(e){var t=i.call(this,{el:"first",dir:e});return this.pushStack(t)},smoothScroll:function(t,n){if("options"===(t=t||{}))return n?this.each(function(){var t=e(this),i=e.extend(t.data("ssOpts")||{},n);e(this).data("ssOpts",i)}):this.first().data("ssOpts");var i=e.extend({},e.fn.smoothScroll.defaults,t),o=function(t){var n=function(e){return e.replace(/(:|\.|\/)/g,"\\$1")},o=this,r=e(this),a=e.extend({},i,r.data("ssOpts")||{}),s=i.exclude,l=a.excludeWithin,c=0,u=0,d=!0,p={},f=e.smoothScroll.filterPath(location.pathname),h=e.smoothScroll.filterPath(o.pathname),m=location.hostname===o.hostname||!o.hostname,g=a.scrollTarget||h===f,v=n(o.hash);if(v&&!e(v).length&&(d=!1),a.scrollTarget||m&&g&&v){for(;d&&c<s.length;)r.is(n(s[c++]))&&(d=!1);for(;d&&u<l.length;)r.closest(l[u++]).length&&(d=!1)}else d=!1;d&&(a.preventDefault&&t.preventDefault(),e.extend(p,a,{scrollTarget:a.scrollTarget||v,link:o}),e.smoothScroll(p))};return null!==t.delegateSelector?this.undelegate(t.delegateSelector,"click.smoothscroll").delegate(t.delegateSelector,"click.smoothscroll",o):this.unbind("click.smoothscroll").bind("click.smoothscroll",o),this}}),e.smoothScroll=function(n,i){if("options"===n&&"object"==typeof i)return e.extend(t,i);var o,r,a,s,l,c=0,u="offset",d="scrollTop",p={},f={};"number"==typeof n?(o=e.extend({link:null},e.fn.smoothScroll.defaults,t),a=n):(o=e.extend({link:null},e.fn.smoothScroll.defaults,n||{},t),o.scrollElement&&(u="position","static"===o.scrollElement.css("position")&&o.scrollElement.css("position","relative"))),d="left"===o.direction?"scrollLeft":d,o.scrollElement?(r=o.scrollElement,/^(?:HTML|BODY)$/.test(r[0].nodeName)||(c=r[d]())):r=e("html, body").firstScrollable(o.direction),o.beforeScroll.call(r,o),a="number"==typeof n?n:i||e(o.scrollTarget)[u]()&&e(o.scrollTarget)[u]()[o.direction]||0,p[d]=a+c+o.offset,s=o.speed,"auto"===s&&(l=Math.abs(p[d]-r[d]()),s=l/o.autoCoefficient),f={duration:s,easing:o.easing,complete:function(){o.afterScroll.call(o.link,o)}},o.step&&(f.step=o.step),r.length?r.stop().animate(p,f):o.afterScroll.call(o.link,o)},e.smoothScroll.version="1.7.2",e.smoothScroll.filterPath=function(e){return e=e||"",e.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},e.fn.smoothScroll.defaults=n}),function($){"use strict";$.fn.fitVids=function(e){var t={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("div");i.innerHTML='<p>x</p><style id="fit-vids-style">'+".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}"+"</style>",n.appendChild(i.childNodes[1])}return e&&$.extend(t,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];t.customSelector&&e.push(t.customSelector);var n=".fitvidsignore";t.ignore&&(n=n+", "+t.ignore);var i=$(this).find(e.join(","));i=i.not("object object"),i=i.not(n),i.each(function(e){var t=$(this);if(!(t.parents(n).length>0||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var i="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),o=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),r=i/o;if(!t.attr("id")){var a="fitvid"+e;t.attr("id",a)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*r+"%"),t.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),$(document).ready(function(){var e={url:"https://api.behance.net/v2/users/fvcproductions/projects?",key:"client_id=xkFHXxMMGXYn7ub5jYKn16miD58Ob15g"};$.ajax({url:e.url+e.key,dataType:"jsonp",success:function(e){for(var t=0;t<10;t++)$(".behance_projects").append('<div class="col project"><img class="thumbnail" src="'+e.projects[t].covers[230]+'"><div class="label"><h6><a href="'+e.projects[t].url+'">'+e.projects[t].name+"</a></h6><p>"+e.projects[t].fields+"</p></div></div>")},error:function(e,t,n){alert("Error: "+t+", "+n+"!")}})}),window.ALGOLIA_CONFIG={applicationId:"{{ site.algolia.application_id }}",indexName:"{{ site.algolia.index_name }}",apiKey:"{{ site.algolia.read_only_api_key }}",baseurl:"{{ site.baseurl }}"},$(function(e){"use strict";function t(){window.scroll(0,0),h.addClass("algolia__initial-content--hidden"),m.addClass("algolia__search-content--active")}function n(){h.removeClass("algolia__initial-content--hidden"),m.removeClass("algolia__search-content--active")}function i(){if(w=$(this).val(),0===w.length)return n(),!1;f.setQuery(w).search(),t()}function o(e){if(e.query!==w)return!1;var t=e.nbHits?r(e):y;g.html(t)}function r(t){return $.map(t.hits,function(t){return t.posted_at&&(t.posted_at_readable=moment.unix(t.posted_at).fromNow()),t.css_selector=encodeURI(t.css_selector),t.full_url=e.baseurl+t.url,v.render(t)}).join("")}function a(e){var t=e.substring(1);return!!t.match(/^algolia:/)&&decodeURI(t.replace(/^algolia:/,""))}function s(e){var t=$(".page,.post").find(e),n=t[0].getBoundingClientRect().top+window.pageYOffset-20;window.setTimeout(function(){window.scroll(0,n)},100)}function l(e){var t=a(e.target.hash);return e.target.pathname!==window.location.pathname||!t||(n(),s(t),e.preventDefault(),!1)}var c=e.applicationId,u=e.apiKey,d=e.indexName,p=algoliasearch(c,u),f=algoliasearchHelper(p,d);f.setQueryParameter("distinct",!0),f.on("result",o),$(".js-algolia__input").on("keyup",i);var h=$(".js-algolia__initial-content"),m=$(".js-algolia__search-content"),g=m.find(".algolia__results");g.on("click","a",l);var v=Hogan.compile($("#algolia__template").html()),y=$("#algolia__template--no-results").html(),w;window.setTimeout(function(){var e=a(window.location.hash);e&&s(e)},100)}(window.ALGOLIA_CONFIG)),$(document).ready(function(){var e=$("iframe");e.each(function(){$(this).data("ratio",this.height/this.width).removeAttr("width").removeAttr("height")}),$(window).resize(function(){e.each(function(){var e=$(this).parent().width();$(this).width(e).height(e*$(this).data("ratio"))})}).resize()});var AsciiMorph=function(){"use strict";function e(e,t){for(var n in t)n in e||(e[n]=t[n]);return e}function t(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function n(e,t,n){return e.substr(0,t)+n+e.substr(t+n.length)}function i(e,t){h=e,m=t}function o(e){var n,i={x:0,y:e.length};for(n=0;n<e.length;n++)e[n].length>i.x&&(i.x=e[n].length);for(n=0;n<e.length;n++)e[n].length<i.x&&(e[n]=e[n]+t(" ",i.x-e[n].length));for(var o={x:Math.floor((m.x-i.x)/2),y:Math.floor((m.y-i.y)/2)},n=0;n<e.length;n++)e[n]=t(" ",o.x)+e[n]+t(" ",o.x);for(var n=0;n<m.y;n++)n<o.y?e.unshift(t(" ",m.x)):n>o.y+i.y&&e.push(t(" ",m.x));return e}function r(e){for(var t,n=null,i=!1,o=0;o<e.length;o++){var r=e[o];-1===(t=r.search(/\S/))&&(t=null);for(var s=0;s<r.length;s++)" "!=r[s]&&(n=s);null!==t&&null!==n&&(e=a(e,o,t,n),i=!0),t=null,n=null}return!!i&&e}function a(e,t,i,o){var r={x:Math.floor(m.x/2),y:Math.floor(m.y/2)},a=1;return t>r.y&&(a=-1),e[t][i],e[t][o],e[t]=n(e[t],i," "),e[t]=n(e[t],o," "),o-1!=i+1&&i!==o&&i+1!==o?(e[t+a]=n(e[t+a],i+1,"+*/\\".substr(Math.floor(Math.random()*"+*/\\".length),1)),e[t+a]=n(e[t+a],o-1,"+*/\\".substr(Math.floor(Math.random()*"+*/\\".length),1))):i!==o&&i+1!==o||t+1===r.y||t-1===r.y||t===r.y||(e[t+a]=n(e[t+a],i,"+*/\\".substr(Math.floor(Math.random()*"+*/\\".length),1)),e[t+a]=n(e[t+a],o,"+*/\\".substr(Math.floor(Math.random()*"+*/\\".length),1))),e}function s(e){l(o(e.slice()))}function l(e){h.innerHTML="";for(var t=0;t<e.length;t++)h.innerHTML=h.innerHTML+e[t]+"\n";g=e}function c(e){clearTimeout(y),d(u(e.slice()))}function u(e){for(var t=[],n=[],i=g,a=0;a<100;a++){var s=r(i);if(!1===s)break;t.push(s.slice(0)),i=s}var l=o(e);n.unshift(l.slice(0));for(var a=0;a<100;a++){var s=r(l);if(!1===s)break;n.unshift(s.slice(0)),l=s}return t.concat(n)}function d(e){v=e,p()}function p(){y=setTimeout(function(){l(v[0]),v.shift(),v.length>0&&p()},20)}function f(e,t){return e&&t?void i(e,t):void console.log("sorry, I need an element and a canvas size")}var h=null,m={},g=[],v=[],y=null;return e(f,{render:s,morph:c})}(),element=document.querySelector("pre");AsciiMorph(element,{x:50,y:25});var bird=["                             /","                            /","                           /;","                          //","                         ;/","                       ,//","                   _,-' ;_,,","                _,'-_  ;|,'","            _,-'_,..--. |","    ___   .'-'_)'  ) _)\\|      ___","  ,'\"\"\"`'' _  )   ) _)  ''--'''_,-'","-={-o-  /|    )  _)  ) ; '_,--''","  \\ -' ,`.  ) .)  _)_,''|","   `.\"(   `------''     /","     `.\\             _,'","       `-.____....-\\\\","                 || \\\\","                 // ||","                //  ||","            _-.//_ _||_,","              ,'  ,-'/"],mona=["         ____","        o8%8888,","      o88%8888888.","     8'-    -:8888b","    8'         8888","   d8.-=. ,==-.:888b","   >8 `~` :`~' d8888","   88         ,88888","   88b. `-~  ':88888","   888b ~==~ .:88888","   88888o--:':::8888","   `88888| :::' 8888b","   8888^^'       8888b","  d888           ,%888b."," d88%            %%%8--'-.","/88:.__ ,       _%-' ---  -","    '''::===..-'   =  --.  `"];AsciiMorph.render(bird),AsciiMorph.morph(mona),$(document).ready(function(){function e(e){e.setAttribute("src","/assets/images/logo-red.svg")}function t(e){e.setAttribute("src","/assets/images/logo-white.svg")}$("#lightgallery").lightGallery({thumbnail:!0,animateThumb:!0,showThumbByDefault:!0});var n=document.title;$(window).blur(function(){document.title="Whatcha up to? <i class='twa twa-lg twa-eyes'></i>"}),$(window).focus(function(){document.title=n}),$(window).scroll(function(){$(this).scrollTop()>100?$("#scroll").fadeIn():$("#scroll").fadeOut()}),$("#scroll").click(function(){return $("html, body").animate({scrollTop:0},600),!1}),$("#main").fitVids(),$(".sticky").Stickyfill();var i=function(){(0===$(".author__urls-wrapper button").length?$(window).width()>1024:!$(".author__urls-wrapper button").is(":visible"))?(Stickyfill.rebuild(),Stickyfill.init(),$(".author__urls").show()):(Stickyfill.stop(),$(".author__urls").hide())};i(),$(window).resize(function(){i()}),$(".author__urls-wrapper button").on("click",function(){$(".author__urls").fadeToggle("fast",function(){}),$(".author__urls-wrapper button").toggleClass("open")}),$("a").smoothScroll({offset:-20}),$("a[href$='.jpg'],a[href$='.jpeg'],a[href$='.JPG'],a[href$='.png'],a[href$='.gif']").addClass("image-popup"),$(".image-popup").magnificPopup({type:"image",tLoading:"Loading image #%curr%...",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">Image #%curr%</a> could not be loaded.'},removalDelay:500,mainClass:"mfp-zoom-in",callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim")}},closeOnContentClick:!0,midClick:!0})});